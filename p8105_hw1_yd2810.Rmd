---
title: "p8105_hw1_yd2810"
author: "Yaxuan Deng"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Problem 1

```{r}
library(moderndive)
library(ggplot2)
library(tidyverse)
```

```{r}
data("early_january_weather")

var_names <- names(early_january_weather)

n_obs <- nrow(early_january_weather)
n_vars <- ncol(early_january_weather)
```

```{r}
summary(early_january_weather)
```

The `early_january_weather` dataset records hourly meteorological data for LGA, JFK and EWR for the month of January 2013. It consists of `r n_obs` observations and `r n_vars` variables including `r var_names`.

Time variables `year`, `month`, `day` and `hour` indicate when each observation is recorded, among which `year` and `month` are constant at `r unique(early_january_weather$year)` and `r unique(early_january_weather$month)`. `day` ranges from `r min(early_january_weather$day)` to `r max(early_january_weather$day)` and `hour` ranges from `r min(early_january_weather$hour)` to `r max(early_january_weather$hour)`. `time_hour` consolidates these components as a POSIXct timestamp.

Meteorological variables include: `temp`, `dewp` record temperature and dewpoint in F; `humid` records relative humidity; `wind_dir`, `wind_speed`, `wind_gust` record wind direction (in degrees), speed and gust speed (in mph); `precip` record precipitation in inches; `pressure` records sea level pressure in millibars; `visib` records visivility in miles.

```{r}
mean_temp <- mean(early_january_weather$temp)
```

The mean temperature is `r mean_temp` Â°F.

```{r}
weather_plot <- 
  ggplot(early_january_weather, aes(x = time_hour ,y = temp, color = humid)) +
  geom_point() + 
  labs(x = "Time",
       y = "Temperature in F",
       color = "humidity",
       title = "Temperature over time")

weather_plot
```

Export the scatterplot

```{r}
ggsave("scatter_temp_time.png",weather_plot,height = 4,width = 6)
```

## Problem 2

```{r}
# guarantee reproducibility
set.seed(1234)

sample_norm <- rnorm(10)

example_data <- tibble(
  sample_norm = sample_norm,
  is_positive = sample_norm > 0,
  sample_char = sprintf("id_%02d", seq_len(10)),
  sample_fac = factor(c("cat","dog","bird","cat","dog","bird","cat","dog","bird","cat"))
)
```

Take the mean of each variable.

```{r}
mean_numeric <- mean(pull(example_data,sample_norm))
mean_logical <- mean(pull(example_data,is_positive))
mean_character <- mean(pull(example_data,sample_char))
mean_factor <- mean(pull(example_data,sample_fac))
```

We are able to get mean of numeric and logical variables, and the results are `r mean_numeric` and `r mean_logical`, respectively. It doesn't work when the variable is character or factor.

try converting one type to another

```{r results='hide'}
num_logical   <- as.numeric(example_data$is_positive)
num_character <- as.numeric(example_data$sample_char)
num_factor    <- as.numeric(example_data$sample_fac)
```
When variable is logical, `as.numeric()` gives 0 of FALSE and 1 for TRUE, which matches the logical mean above.
When variable is character, `as.numeric()` gives `NA` for all elements. Thus, we are not able to obtain the mean.
When variable is factor, `as.numeric()` returns the integer codes of each levels. However, the integers are just index of the group not having numerical meanings. Thus, we are not able to obtain the mean.



